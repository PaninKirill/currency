{% extends "base.html" %}
{% load crispy_forms_tags %}

{% crispy form form.helper 'bootstrap' %}
{% block content %}
<div class="container">
    <div class="row justify-content-center align-items-center" style="height:80vh;">
        <div class="col-auto border p-3">
            {% if form.errors %}
            <p class="bg-danger p-2">Incorrect password</p>
            {% endif %}
            {% if next %}
            {% if user.is_authenticated %}
            <p class="bg-warning p-1">Your account doesn't have access.</p>
            {% else %}
            <p class="bg-secondary">Please login to see this page.</p>
            {% endif %}
            {% endif %}
            <form method="post" action="{% url 'password_change' %}">
                {% csrf_token %}
                {{ form|crispy:"bootstrap" }}
                <input class="mt-3" type="submit" value="Change Password"/>
                <input type="hidden" name="next" value="{{ next }}"/>
            </form>
        </div>
    </div>
</div>
{% endblock %}